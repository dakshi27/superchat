<div class="welcome-card vendor-list-root">
  <div class="header-row">
    <h2>Vendor List</h2>
    <p class="subtitle">All vendors currently in the system</p>
  </div>

  <div class="controls">
    <input
      type="search"
      placeholder="Search vendors (name or email)"
      [(ngModel)]="searchTerm"
    />
  </div>

  <div *ngIf="filteredVendors.length === 0" class="empty-state">
    <p>No vendors found.</p>
  </div>

  <div *ngIf="filteredVendors.length > 0" class="table-wrap">
    <table class="vendor-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Status</th>
          <th *ngIf="userRole === 'Admin'">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let v of filteredVendors">
          <td>{{ v.companyName }}</td>
          <td>{{ v.contactEmail }}</td>
          <td>
            <span
              class="status-chip"
              [ngClass]="{
                'status-approved': v.status === 'Verified',
                'status-pending': v.status === 'PendingApproval'
              }"
            >
              {{ statusLabel(v.status) }}
            </span>
          </td>
          <td *ngIf="userRole === 'Admin'">
            <ng-container *ngIf="v.status === 'PendingApproval'">
              <button class="primary-btn" (click)="approveVendor(v)">Approve</button>
              <button class="danger-btn" (click)="rejectVendor(v)">Reject</button>
            </ng-container>

            <ng-container *ngIf="v.status === 'Verified'">
               <button class="profile-btn" [routerLink]="['/vendors', v.id]">
                  <span class="icon">ðŸ‘¤</span> View Profile
               </button>
              <button class="danger-btn" (click)="deleteVendor(v)">Delete</button>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>